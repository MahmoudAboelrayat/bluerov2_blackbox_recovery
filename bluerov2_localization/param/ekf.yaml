bluerov2:
  ekf_filter_node:
    ros__parameters:

      frequency: 30.0
      sensor_timeout: 0.1

      two_d_mode: false

      # ----- Frames -----
      map_frame: "ned"
      odom_frame: "odom"
      base_link_frame: "base_link"
      world_frame: "ned"

      publish_tf: true

      # -----------------------------
      #  INPUT 1: CAMERA ODOMETRY
      # -----------------------------
      pose0: "aruco_odom"
      pose0_config: [
        true,  true,  true,
        true,  true,  true,
        false, false, false,
        false, false, false
      ]
      pose0_differential: false
      pose0_relative: false
      pose0_pose_rejection_threshold: 5.0
      pose0_twist_rejection_threshold: 3.0

      # -----------------------------
      #  INPUT 2: IMU
      # -----------------------------
      imu0: "imu/data"
      imu0_config: [
        false, false, false,
        true,  true,  true,
        false, false, false,
        true,  true,  true
      ]
      imu0_differential: false
      imu0_relative: false
      imu0_remove_gravitational_acceleration: true
      imu0_pose_rejection_threshold: 0.4
      imu0_twist_rejection_threshold: 0.4
      imu0_linear_acceleration_rejection_threshold: 2.0

      # -----------------------------
      # INPUT 3: DEPTH ODOMETRY
      # -----------------------------
      pose1: "depth_odom"
      pose1_config: [
        false, false, true,
        false, false, false,
        false, false, false,
        false, false, false
      ]
      pose1_pose_rejection_threshold: 3.0
      pose1_differential: false
      pose1_relative: false
      # -----------------------------
      # INPUT 4: DEAD RECKONING ODOMETRY
      # -----------------------------
      odom2: "dead_reckoning_odom"
      odom2_config: [
        true,  true,  false,   # x, y, z
        false, false, true,    # roll, pitch, yaw
        false, false, false,   # vx, vy, vz
        true,  true,  true     # wx, wy, wz
      ]
      odom2_differential: True
      odom2_relative: True
      odom2_pose_rejection_threshold: 4.0
      odom2_twist_rejection_threshold: 3.0

      # -----------------------------
      # OUTPUT
      # -----------------------------
      print_diagnostics: true
      debug: false
